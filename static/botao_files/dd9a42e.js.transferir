/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[522],{1278:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return R}));var r=n(203),o=(n(61),n(46),n(16),n(370),n(19),n(42),n(1)),c={"aesthetic medicine":"HealthAndBeautyBusiness",barbers:"HairSalon","brows & lashes":"HealthAndBeautyBusiness","day spa":"DaySpa",dental:"Dentist",dietician:"HealthAndBeautyBusiness","hair salons":"HairSalon",massage:"HealthAndBeautyBusiness","personal trainers":"HealthAndBeautyBusiness","nail salons":"NailSalon","wedding makeup artist":"HealthAndBeautyBusiness","tattoo artists":"HealthAndBeautyBusiness","hair removal":"HealthAndBeautyBusiness",piercing:"HealthAndBeautyBusiness","make-up":"HealthAndBeautyBusiness","beauty salon":"BeautySalon","skin care":"BeautySalon","financial institutions":"FinancialService",shopping:"Store",telecom:"MobilePhoneStore",automotive:"AutomotiveBusiness"},l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function f(t){return e.get(t,"images.cover.0")}function d(t){return e.get(t,"images.logo.0")}function address(t,n){var address=e.get(t,"location.address");if(address){var r={"@type":"PostalAddress",streetAddress:address};if(n&&(r.addressCountry=n),h(t)){var o=h(t);r.addressLocality=o.full_name}if(y(t)){var c=y(t);r.addressLocality=c.full_name}if(v(t)){var l=v(t);r.postalCode=l.full_name}return r}}function h(t){return t.regions?e.find(t.regions,(function(e){return e.type===o.J.CITY})):null}function y(t){return t.regions?e.find(t.regions,(function(e){return e.type===o.J.STATE})):null}function v(t){return t.regions?e.find(t.regions,(function(e){return e.type===o.J.ZIP})):null}function m(t,n){var r,o;if(t.service_categories&&(e.each(t.service_categories,(function(t){e.each(t.services,(function(s){e.each(s.variants,(function(e){if("X"===e.type){var p=e.price;(void 0===r||r>p)&&(r=p),(void 0===o||o<p)&&(o=p)}}))}))})),void 0!==r&&void 0!==o))return"".concat(n," ").concat(r," - ").concat(o)}function _(e){var t="Cash";return e.credit_cards&&e.credit_cards.match(/yes|ok/i)&&(t+=",Credit Card"),t}function w(t){var n=[];if(e.each(["website","facebook_link","instagram_link","ecommerce_link"],(function(e){var r=t[e];r&&r.match(/^https?:\/\//i)&&n.push(r)})),n&&n.length)return n}function A(t){var n=e.get(t,"location.coordinate");if(n)return{"@type":"GeoCoordinates",latitude:n.latitude,longitude:n.longitude}}function B(t){if(t.open_hours){var n=[];return e.each(t.open_hours,(function(e){if(n.length){var t=n.find((function(t){return t.opens===e.open_from&&t.closes===e.open_till}));if(t)t.dayOfWeek.push(l[e.day_of_week]);else{var r={"@type":"OpeningHoursSpecification",dayOfWeek:[l[e.day_of_week]],opens:e.open_from,closes:e.open_till};n.push(r)}}else{var o={"@type":"OpeningHoursSpecification",dayOfWeek:[l[e.day_of_week]],opens:e.open_from,closes:e.open_till};n.push(o)}})),n.length?n:void 0}}function k(t){if(t.reviews){var n=[];return e.each(t.reviews,(function(e){n.push({"@type":"Review",author:"".concat(e.user.first_name," ").concat(e.user.last_name),datePublished:e.created,description:e.review,reviewRating:{"@type":"Rating",ratingValue:e.rank,bestRating:"5",worstRating:"1"}})})),n.length?n:void 0}}function S(e){if(e.reviews_rank&&e.reviews_count)return{"@type":"AggregateRating",ratingValue:e.reviews_rank,reviewCount:e.reviews_count}}function D(t){if(t.staff){var n=[];return e.each(t.staff,(function(e){var s={name:e.name};e.description&&(s.description=e.description),e.photo_url&&(s.image=e.photo_url),n.push(s)})),n.length?n:void 0}}function O(t,n){var o=function(t){var n=[];return e.each(t.variants,(function(t){"X"!==t.type&&"S"!==t.type||!e.has(t,"price")||n.push(t.price)})),1===n.length?n[0]:n.length>1?n:void 0}(t);if(o){var c={"@type":"Product",name:t.name,offers:{"@type":Array.isArray(o)?"AggregateOffer":"Offer",priceCurrency:n}};return Array.isArray(o)?(c.offers.lowPrice=Math.min.apply(Math,Object(r.a)(o)),c.offers.highPrice=Math.max.apply(Math,Object(r.a)(o))):c.offers.price=o,t.description&&(c.description=t.description),c}}function H(t,n,o){if(t.service_categories){var c=[];if(o){var l=function(t){var n=e.flatMap(t.service_categories,(function(e){return e.services}));if(t.treatment_service_categories){var o,c=e.flatMap(t.treatment_service_categories,(function(e){return e.services}));c.length<3?(o=n=n.filter((function(e){return c.every((function(t){return t.id!==e.id}))}))).unshift.apply(o,Object(r.a)(c)):n=c}return n.slice(0,3)}(t);e.each(l,(function(e){var t=O(e,n);t&&c.push(t)}))}else{var f=t.service_categories;e.each(f,(function(t){e.each(t.services,(function(e){var t=O(e,n);t&&c.push(t)}))}))}return c.length?c:void 0}}function C(t,n){var r=t.business,o=t.country,l=t.currency,h=t.businessUrl,y=t.short,data={"@context":"http://schema.org",type:"LocalBusiness"};if(data.name=r.name,n){var v=n.getters["categories/getCategoryById"](r.primary_category);if(v){var O=e.get(v,"internal_name","").toLowerCase(),C=c[O];C&&(data.type=C)}}if(r.description&&(data.description=r.description),data.url=h,r.phone&&(data.telephone=r.phone),f(r)){var R=f(r);data.image=R.image}else if(n){var j=n.getters["categories/getCategoryById"](r.primary_category);data.image=j.cover||j.placeholder}if(d(r)){var x=d(r);data.logo=x.image}return address(r,o)&&(data.address=address(r,o)),m(r,l)&&(data.priceRange=m(r,l)),l&&(data.currenciesAccepted=l),_(r)&&(data.paymentAccepted=_(r)),w(r)&&(data.sameAs=w(r)),A(r)&&(data.geo=A(r)),B(r)&&(data.openingHoursSpecification=B(r)),S(r)&&(data.aggregateRating=S(r)),H(r,l,y)&&(data.owns=H(r,l,y)),y||(k(r)&&(data.review=k(r)),D(r)&&(data.employee=D(r))),data}function R(e,t){var n=e.business,r=e.businessUrl,data={"@context":"http://schema.org","@type":"SpecialAnnouncement",name:e.title,text:e.rules,datePosted:e.postedDate,url:r,category:"https://www.wikidata.org/wiki/Q81068910"};if(data.announcementLocation={"@type":"LocalBusiness",name:n.name},f(n)){var o=f(n);data.announcementLocation.image=o.image}else if(t){var c=t.getters["categories/getCategoryById"](n.primary_category);data.announcementLocation.image=c.cover||c.placeholder}return data.announcementLocation.url=r,data}}).call(this,n(8))},1281:function(e,t,n){"use strict";(function(e){n(49),n(58);var r=n(1278);t.a={props:{business:{type:Object,required:!0},short:{type:Boolean,required:!1,default:!1},safetyRules:{type:Array,default:function(){return[]}},updatedDate:{type:String,required:!0}},data:function(){return{schemaData:null,specialAnnoucmentData:null,businessUrl:this.$localUrl({business:this.business},{absolute:!0}),currency:e.get(this.$store.state.routingConfig.config,"default_currency"),country:this.$store.state.i18n.country}},computed:{rulesText:function(){return this.safetyRules.length?this.safetyRules.map((function(e){return e.text})).join(". ")+".":""},rulesDate:function(){return this.updatedDate?this.updatedDate.split("T")[0]:null}},created:function(){var e=Object(r.a)({business:this.business,currency:this.currency,country:this.country,businessUrl:this.businessUrl,short:this.short},this.$store);if(this.schemaData=JSON.stringify(e),this.business.has_safety_rules){var t=Object(r.b)({business:this.business,businessUrl:this.businessUrl,title:this.$t("business.partials.health-and-safety-rules.title"),rules:this.rulesText,postedDate:this.rulesDate},this.$store);this.specialAnnoucmentData=JSON.stringify(t)}}}}).call(this,n(8))},2101:function(e,t,n){"use strict";n.r(t);var r=n(1281).a,o=n(10),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",[t("script",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:e.schemaData,expression:"schemaData"}],attrs:{type:"application/ld+json"}}),e._v(" "),e.specialAnnoucmentData?t("script",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:e.specialAnnoucmentData,expression:"specialAnnoucmentData"}],attrs:{type:"application/ld+json"}}):e._e()])}),[],!1,null,null,null);t.default=component.exports}}]);