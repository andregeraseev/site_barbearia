/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[512],{1009:function(e,t,o){e.exports={modalTitle:"purify_wP+IRzJCOjFtQsidr3op7A== purify_IbX1Bb-sl2ffhqyi9xUH1A== purify_tQAsObMqWu3gD3bqggs8Wg==",modalContent:"purify_YPF8vqYiTl2xGnunHkh42w==",iconClose:"purify_yqDopVwm8E-4Cq3IUQXhOw=="}},1709:function(e,t,o){"use strict";var n=o(1009),r=o.n(n);o.d(t,"default",(function(){return r.a}))},2149:function(e,t,o){"use strict";o.r(t);o(18),o(13),o(19),o(22),o(23);var n=o(2),r=(o(9),o(14)),c=o(116),l=o(76),d=o(1);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={components:{Modal:c.default,Icon:l.default,ReportForm:function(){return o.e(407).then(o.bind(null,2161))},Authentication:function(){return o.e(9).then(o.bind(null,500))}},data:function(){return{itemType:null,itemId:null,onSuccess:null,modalOpened:!1,showAuth:!1}},computed:f(f({},Object(r.e)({isMobile:function(e){return e.app.isMobile}})),Object(r.c)({user:"auth/getUser"})),methods:f(f({},Object(r.b)({showLoadingScreen:"ui/loadingScreen/show",hideLoadingScreen:"ui/loadingScreen/hide",apiCall:"apiClient/call"})),{},{open:function(e,t,o){o&&"function"!=typeof o?console.error("param: `onSuccess` must be a function"):"business"===e||"review"===e||"image"===e?(this.itemType=e,this.itemId=t,this.onSuccess=o,this.modalOpen()):console.error("param: `itemType` must be a business, review or image String")},onSubmit:function(e){var t=this;this.user?(this.showLoadingScreen(),this.apiCall({url:d.w.REPORT_INAPPROPRIATE_CONTENT,method:"post",data:{object_type:this.itemType,id:this.itemId,reason:e}}).then((function(e){t.$toast.success(t.$t("common.report-form.was-sent"),{duration:3e3})})).catch((function(){t.$toast.error(t.$t("errors.general"),{duration:3e3})})).finally((function(){t.hideLoadingScreen()})),this.handleOnSuccess(),this.modalClose()):this.showAuth=!0},handleOnSuccess:function(){if("function"==typeof this.onSuccess)try{this.onSuccess()}catch(e){console.error(e)}},modalOpen:function(){this.$refs.modal.open().then(this.modalClosed,this.modalClosed),this.modalOpened=!0},modalClose:function(){this.$refs.modal.close()},modalClosed:function(){this.modalOpened=!1,this.reset()},reset:function(){this.itemType=null,this.itemId=null,this.onSuccess=null},hideAuth:function(){this.showAuth=!1}}),mounted:function(){this.$root.$on("show-report-form",this.open)},beforeDestroy:function(){this.$root.$off("show-report-form",this.open)},watch:{$route:function(e,t){this.$refs.modal.close()}}},y=o(1709),O=o(10);var component=Object(O.a)(m,(function(){var e=this,t=e._self._c;return t("modal",{ref:"modal",staticClass:"[ modal ]",class:e.isMobile?"-mobile-view":"-size-sm"},[t("div",{staticClass:"modal__content",class:e.$style.modalContent,attrs:{"data-testid":"report-abuse-modal"}},[e.showAuth?t("authentication",{attrs:{closeable:!0,"show-congratulations":!0,type:"report"},on:{"view-resolved":e.hideAuth,"view-rejected":e.hideAuth}}):[t("div",{staticClass:"modal__header",class:e.$style.modalTitle},[e._v("\n                "+e._s(e.$t("common.report-form.header"))+"\n                "),t("span",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.modalClose.apply(null,arguments)}}},[t("icon",{class:e.$style.iconClose,attrs:{name:"close"}})],1)]),e._v(" "),t("div",{staticClass:"modal__body"},[e.modalOpened?t("report-form",{attrs:{"object-type":e.itemType,"object-id":e.itemId,"data-testid":"report-abuse-form"},on:{submit:e.onSubmit,dismiss:e.modalClose}}):e._e()],1)]],2)])}),[],!1,(function(e){this.$style=y.default.locals||y.default}),null,null);t.default=component.exports}}]);