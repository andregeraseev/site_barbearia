/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[443],{1195:function(e,t,n){"use strict";(function(e){n(18),n(13),n(19),n(22),n(23);var r=n(2),o=n(203),c=n(6),l=(n(21),n(16),n(49),n(61),n(101),n(14)),d=n(1),f=n(1552),h=n(805),m=n(111);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a={layout:function(e){return"b-card"===e.route.name?"none":"default"},transition:"slide",mixins:[f.a],components:{BusinessComponent:function(){return n.e(530).then(n.bind(null,2056))},BusinessNotFound:function(){return n.e(418).then(n.bind(null,2057))},Breadcrumbs:function(){return n.e(60).then(n.bind(null,1468))},Schema:function(){return n.e(522).then(n.bind(null,2101))},BreadcrumbsSchema:function(){return n.e(68).then(n.bind(null,1497))},GridLayout:function(){return n.e(493).then(n.bind(null,880))},BusinessAsideContent:function(){return Promise.all([n.e(39),n.e(440)]).then(n.bind(null,2058))}},data:function(){return{rules:[],updatedDate:"",bCard:"b-card"===this.$route.name}},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function n(){var r,o,c,l,f,h,m,data,image,y;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.route,o=t.store,c=t.redirect,l=t.app,t.res,f=t.error,n.next=3,o.dispatch("business/loadBusiness",{businessId:r.params.businessId,treatmentId:o.getters["search/getFirstTreatment"]});case 3:if(h=n.sent){n.next=7;break}return n.abrupt("return");case 7:if("b-card"!==r.name||"b_card"===(null==h?void 0:h.profile_type)){n.next=11;break}n.next=11;break;case 11:m=l.$localUrl({business:h}),r.path!==m&&"business--staffer"!==r.name&&"b-card"!==r.name&&c(301,l.$localUrl({business:h},{absolute:!0})),data={businessSourceServer:!1,rules:[],updatedDate:""},r.query.df,n.next=30;break;case 19:image=n.sent,n.next=25;break;case 22:n.prev=22,n.t0=n.catch(16),console.error(n.t0);case 25:if(!image){n.next=29;break}data.digitalflyer=image,n.next=30;break;case 29:return n.abrupt("return",f({statusCode:404,message:l.i18n.t("errors.not-found")}));case 30:if(!h||!h.has_safety_rules){n.next=36;break}return n.next=33,o.dispatch("apiClient/call",{url:d.w.BUSINESS_SAFETY_RULES,urlParams:{business_id:h.id}},{root:!0});case 33:y=n.sent,data.rules=e.get(y,"data.rules"),data.updatedDate=e.get(y,"data.updated");case 36:return n.abrupt("return",data);case 37:case"end":return n.stop()}}),n,null,[[16,22]])})))()},head:function(){var meta=this.$_seo__metadata;this.digitalflyer&&(meta.og_image=this.digitalflyer.image);var head=Object(h.b)(meta);return this.bCard&&this.business&&Object.assign(head,{htmlAttrs:{lang:this.$store.state.i18n.language},link:[{rel:"canonical",href:this.$localUrl({business:this.business},{canonical:!0})}],meta:[].concat(Object(o.a)(head.meta),[{hid:"robots",name:"robots",value:"noindex,follow"}])}),head},computed:v(v(v({},Object(l.e)({business:function(e){return e.business.business},isMobile:function(e){return e.app.isMobile}})),Object(l.c)({isBusiness:"business/isBusiness",isBlisting:"business/isBlisting",isUmbrella:"business/isUmbrella",user:"auth/getUser"})),{},{breadcrumbs:function(){return this.$_seo__metadata.breadcrumbs||[]},combosEnabled:function(){return this.$featureFlags.get(m.a.FEATURE_COMBO).value}}),methods:v(v({},Object(l.b)({onUserChange:"business/onUserChange",onFeatureFlagsChange:"business/onFeatureFlagsChange",like:"favourites/toggleItem"})),{},{updateServiceCategories:function(){var e=this;window.setTimeout((function(){e.$nextTick((function(){e.onFeatureFlagsChange()}))}),500)}}),created:function(){this.businessSourceServer&&this.user&&this.onUserChange()},mounted:function(){var e=this;this.business?window.setTimeout((function(){e.$analytics.dispatch("MerchantProfileOpened",{business:e.business,isBlisting:e.isBlisting,isUmbrella:e.isUmbrella,route:e.$router.currentRoute}),e.isBlisting&&e.$analytics.dispatch("OpenBlistingDetails",{business:e.business,route:e.$router.currentRoute})}),250):this.$analytics.dispatch("InactiveBusinessReached",{route:this.$router.currentRoute}),this.digitalflyer&&"inspiration"===this.digitalflyer.category&&this.$nextTick((function(){e.$root.$emit("show-images",[e.digitalflyer])})),"open-widget"===this.$route.query.do&&window.setTimeout((function(){e.$root.$emit("booking-start",{businessId:e.business.id,restoreStateKey:e.$route.query.restore_state_key})}),2e3),this.$route.query.serviceImg&&this.business.service_categories.map((function(t){t.services.some((function(t){var n=t.photos.find((function(t){return t.id===Number(e.$route.query.serviceImg)}));n&&e.$nextTick((function(){e.$root.$emit("show-images",[n])}))}))})),this.updateServiceCategories()},watch:{user:{handler:function(e,t){e!==t&&this.onUserChange()}},combosEnabled:{handler:function(){this.updateServiceCategories()}}}}}).call(this,n(8))},1552:function(e,t,n){"use strict";(function(e){n(46),n(16);var r=n(805),o=n(329),c=n(3),l=n(1);Object(c.a)("seo.search.breadcrumbs.category-in-location"),Object(c.a)("seo.search.breadcrumbs.treatments-in-location"),t.a={computed:{$_seo__metadata:function(){var t=this.$t.bind(this);return function(t,n,c,d){var data=Object(r.a)(n,c,d);e.isObject(t)&&(data.title=function(e,t,n,r){if(e.location&&e.location.city)return r("seo.business.meta-title-with-location",{businessName:e.name,city:e.location.city});return r("seo.business.meta-title",{businessName:e.name})}(t,0,0,d),data.description=function(e,t,n,r){var c=e.location&&e.location.city;if(!c){var d=Object(o.b)(e);if(!d)return;var f=Object(o.c)(e,l.J.NEIGHBORHOOD)||Object(o.c)(e,l.J.BOROUGH);c=d.name,f&&f.name&&d.name!==f.name&&(c="".concat(f.name,", ").concat(d.name))}return r("seo.business.meta-description",{businessName:e.name,locationName:c})}(t,0,0,d),data.canonicalUrl=function(e,t,n,r){return t({business:e},{absolute:!0,canonical:!0})}(t,n),data.breadcrumbs=function(e,t,n,r){var c=[],l={};if(e.primary_category){var d=n.getters["categories/getCategoryById"](e.primary_category);if(d){l.category=d,c.push({label:d.name,url:t({criteria:l})});var f=Object(o.b)(e);if(f){l.location=f;var h=r("seo.search.breadcrumbs.category-in-location",{categoryNamePlural:d.plural_name,locationName:f.full_name});c.push({label:h,url:t({criteria:l})})}}}return c.push({label:e.name,url:t({business:e})}),c}(t,n,c,d),data.og_image=function(t,n,r,o){if(!e.isObject(t))return;return e.get(t,"images.cover.0.image",e.get(t,"images.biz_photo.0.image"))}(t),data.robots&&data.robots.match(/^noindex/)||(data.robots=t.noindex?"noindex, follow":"index, follow"));return e.omitBy(data,e.isNil)}(this.business,this.$localUrl,this.$store,t)}}}}).call(this,n(8))},1553:function(e,t,n){"use strict";var r=n(956),o=n.n(r);n.d(t,"default",(function(){return o.a}))},2177:function(e,t,n){"use strict";n.r(t);n(16);var r=n(1195).a,o=n(1553),c=n(10);var component=Object(c.a)(r,(function(){var e=this,t=e._self._c;return t("div",[e.bCard&&"b_card"!==e.business.profile_type?t("business-not-found"):t("div",{staticClass:"pageView"},[e.business?[e.isMobile||e.bCard?["business--staffer"!==e.$route.name?t("business-component",{attrs:{business:e.business}}):[t("nuxt-child")]]:t("grid-layout",[t("template",{slot:"main"},["business--staffer"!==e.$route.name?t("business-component",{attrs:{business:e.business}}):t("nuxt-child")],1),e._v(" "),t("template",{slot:"aside"},[t("business-aside-content")],1)],2),e._v(" "),t("schema",{attrs:{business:e.business,"safety-rules":e.rules,"updated-date":e.updatedDate}}),e._v(" "),!e.bCard&&e.breadcrumbs.length?t("breadcrumbs-schema",{attrs:{breadcrumbs:e.breadcrumbs}}):e._e(),e._v(" "),!e.bCard&&e.breadcrumbs.length?t("div",{class:e.$style.breadcrumbsContainer},[t("breadcrumbs",{attrs:{items:e.breadcrumbs}})],1):e._e()]:[t("business-not-found")]],2)],1)}),[],!1,(function(e){this.$style=o.default.locals||o.default}),null,null);t.default=component.exports},805:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h}));var r=n(28),o=(n(61),n(101),n(1)),c=["site_name","type","title","description","image"];function l(t,n,c){var data={},l=e.get(n,"state.i18n.country"),d=e.get(n,"state.i18n.language");return o.P.find((function(e){var t=Object(r.a)(e,2),n=t[0],o=t[1];return n===d&&o===l}))||(data.robots="noindex, nofollow"),data.og_site_name="Booksy",data.og_type="website",data}function d(e,template,data){try{var t=e(template,data);if(t!==template)return t}catch(e){}return""}function f(data){var head={meta:[],link:[]};e.each(c,(function(e){var t="og_".concat(e),n=data[t];if(n){var r="og:".concat(e);head.meta.push({hid:r,property:r,content:n})}})),data.og_image_secure_url||head.meta.push({hid:"og:image:secure_url",property:"og:image:secure_url",content:data.og_image}),data.og_url||head.meta.push({hid:"og:url",property:"og:url",content:data.canonicalUrl}),data.fb_app_id||head.meta.push({hid:"fb:app_id",property:"fb:app_id",content:o.x}),data.title&&(head.title=data.title,data.og_title||head.meta.push({hid:"og:title",property:"og:title",content:data.title})),data.description&&(head.meta.push({hid:"description",name:"description",content:data.description}),data.og_description||head.meta.push({hid:"og:description",property:"og:description",content:data.description}));var t=!1;return data.robots&&(head.meta.push({hid:"robots",name:"robots",content:data.robots}),data.robots.indexOf("noindex")>=0&&(t=!0)),data.canonicalUrl&&!t&&head.link.push({rel:"canonical",href:data.canonicalUrl}),e.isArray(data.hreflangs)&&(e.each(data.hreflangs,(function(link){link.href&&link.hreflang&&head.link.push({rel:"alternate",href:link.href,hreflang:link.hreflang})})),head.link.push({rel:"alternate",href:"https://booksy.com/en-us/",hreflang:"x-default"})),data.prevUrl&&head.link.push({rel:"prev",href:data.prevUrl}),data.nextUrl&&head.link.push({rel:"next",href:data.nextUrl}),head.meta.length<1&&delete head.meta,head.link.length<1&&delete head.link,head}function h(t){var a=e.get(t,"businesses_count",0),b=e.get(t,"external_businesses_count",0);return Number(a)+Number(b)}}).call(this,n(8))},956:function(e,t,n){e.exports={breadcrumbsContainer:"purify_xWatVmhAqplmyQk5S3IXQQ=="}}}]);